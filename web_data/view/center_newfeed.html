{{define "center_newfeed"}}
<script>
  PocketBase.prototype.myCustomAction = function(bodyParams = {}, queryParams = {}) {
      return this.send("/newfeed", {
          'method': 'POST',
          'params': queryParams,
          'body':   bodyParams,
          'heades': {
              // some extra headers...
          }
      });
  }
  const client = new PocketBase('http://127.0.0.1:80');

  function test() {
    console.log('test');
    client.records.getList('domain', 1, 50).then((result) =>{
      // success...
      console.log('Result:', result);
    }).catch((error) =>{
      // error...
      console.log('Error:', error);
    });
  }

  function test2() {
    console.log('test2');
    const formData = new FormData();
    var
    feedText,element = document.getElementById('feedText');
    if (element != null) {
      feedText = element.value;
    }
    formData.append('hello', 'Hello world!');
    formData.append('link', feedText);
    //client.Records.create('example', formData);
    client.myCustomAction(formData,'undefined').then((result) =>{
      // success...
      console.log('Result2:', result);
    }).catch((error) =>{
      // error...
      console.log('Error2:', error);
    });
  }

  test();
</script>
  <!-- Content -->
  <div class="w-full pt-10 px-4 sm:px-6 md:px-8 lg:pl-72">
    <!-- server side action
    <form class="flex flex-row" action='/newfeed' method='post'>
      <input id="feedText" name="link" type="text" class="rounded-r-none py-3 px-4 block w-full border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400" placeholder="New rss feed (feed url or domain name)">
      <button name="add" type="submit" class="rounded-l-none py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800">
        Add
      </button>
    </form>
    -->
    <form class="flex flex-row">
      <input id="feedText" name="link" type="text" class="rounded-r-none py-3 px-4 block w-full border-gray-200 rounded-md text-sm focus:border-blue-500 focus:ring-blue-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-400" placeholder="New rss feed (feed url or domain name)">
      <button onclick="test2()" name="add" type="button" class="rounded-l-none py-3 px-4 inline-flex justify-center items-center gap-2 rounded-md border border-transparent font-semibold bg-blue-500 text-white hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm dark:focus:ring-offset-gray-800">
        Add
      </button>
    </form>
  </div>
  <!-- End Content -->
  <!-- ========== END MAIN CONTENT ========== -->
  <div id='sidebar-backdrop' class='hidden transition duration fixed inset-0 z-[47] bg-gray-900 bg-opacity-50 dark:bg-opacity-80'></div>


{{end}}